## Общее описание архитектуры

YDB предоставляет пользователям возможность работы с внешними источниками данных с помощью [федеративных запросов](../../concepts/federated_query/).  Пользователь может в одном-единственном [YQL](../../yql)-запросе извлечь данные сразу из нескольких источников, объединить их, провести их совместный анализ и сохранить итоговый результат. Некоторые источники данных, такие как [S3 ({{objstorage-full-name}})](../../concepts/federated_query/s3), поддерживаются YDB нативно, тогда как для работы с другими (например, реляционными СУБД) потребуется механизм _коннекторов_.

![Архитектура YDB Federated Query](_assets/architecture.png "Архитектура YDB Federated Query" =640x)

Коннектор - специальный микросервис, реализующий унифицированный интерфейс доступа к внешнему источнику данных.
В его функции входит:

* Трансляция YQL-запросов в запросы на языке, специфичном для внешнего источника (например, в запросы на местном диалекте SQL или в обращения к HTTP API).
* Организация сетевых соединений с источниками.
* Конвертация данных, извлечённых из внешних источников, в формат, поддерживаемый YDB.

{% note warning %}

В настоящее время коннекторы поддерживают запросы только на чтение данных.

{% endnote %}

Таким образом, коннекторы формируют слой абстракции, скрывающий от YDB специфику внешних источников данных.  Лаконичность интерфейса коннектора позволяет легко расширять перечень поддерживаемых источников. В настоящее время пользователи могут воспользоваться [одним из готовых коннекторов](#fq-connector-implementations) или написать свою реализацию на любом языке программирования по [спецификации](https://github.com/ydb-platform/ydb/tree/main/ydb/library/yql/providers/generic/connector/api) GRPC.

## Перечень поддерживаемых источников 

| Источник | Поддержка |
| -------- | --------- |
| S3 ({{objstorage-full-name}}) | Нативная |
| ClickHouse | [fq-connector-go](#fq-connector-go) |
| PostgreSQL | [fq-connector-go](#fq-connector-go) |

## Реализации коннекторов ко внешним источникам данных {#fq-connector-implementations}

### fq-connector-go

Коннектор [`fq-connector-go`](https://github.com/ydb-platform/fq-connector-go) реализован на языке Go. Он обеспечивает доступ к следующим источникам данных:

* ClickHouse
* PostgreSQL

#### Конфигурация

## Разворачивание тестовой инсталляции

Рассмотрим пример разворачивания тестовой инсталляции
