# Федеративные запросы

{% note warning %}

Данная функциональность находится в режиме "Preview".

{% endnote %}

Федеративные запросы - это способ получать информацию из различных источников данных без необходимости переноса данных этих источников внутрь {{ ydb-full-name }}. Федеративные запросы поддерживают взаимодействие с объектными хранилищами и различными реляционными СУБД. При помощи YQL-запросов вы сможете обращаться к этим базам данных без необходимости дублирования данных между системами, объединять и совместно обрабатывать информацию, полученную из различных источников.

Некоторые источники данных, такие как [S3 ({{objstorage-full-name}})](s3), поддерживаются {{ ydb-full-name }} нативно, тогда как для работы с другими (например, реляционными СУБД) потребуется применение механизма _коннекторов_ - специальных микросервисов, реализующих унифицированный интерфейс доступа к внешнему источнику данных. 

В функции коннектора входят:

* Трансляция YQL-запросов в запросы на языке, специфичном для внешнего источника (например, в запросы на местном диалекте SQL или в обращения к HTTP API).
* Организация сетевых соединений с источниками данных.
* Конвертация данных, извлечённых из внешних источников, в формат, поддерживаемый YDB.

![Архитектура YDB Federated Query](_assets/architecture.png "Архитектура YDB Federated Query" =640x)

Таким образом, коннекторы формируют слой абстракции, скрывающий от YDB специфику внешних источников данных. Лаконичность интерфейса коннектора позволяет легко расширять перечень поддерживаемых источников. В настоящее время пользователи могут развернуть [один из готовых коннекторов](../../deploy/federated_query/connector.md) или написать свою реализацию на любом языке программирования по [спецификации](https://github.com/ydb-platform/ydb/tree/main/ydb/library/yql/providers/generic/connector/api) GRPC.

| Источник | Поддержка |
| -------- | --------- |
| ClickHouse | Через коннектор [fq-connector-go](../../deploy/federated_query/connector.md#fq-connector-go) |
| PostgreSQL | Через коннектор [fq-connector-go](../../deploy/federated_query/connector.md#fq-connector-go) |
| S3 ({{objstorage-full-name}}) | Нативная |

Для работы с данными, хранящимися во внешних хранилищах, достаточно создать [внешний источник данных](../datamodel/external_data_source.md). Для работы с несхематизированными данными, хранящимися в бакетах S3 ({{objstorage-full-name}}) нужно дополнительно создать объект [внешнюю таблицу](../datamodel/external_table.md). В обоих случаях необходимо предварительно создать объекты-[секреты](../datamodel/secrets.md), хранящие конфиденциальные данные, необходимые для аутентификации во внешних системах.

Подробная информация про работу с различными источниками данных приведена в соответствующих разделах:
- [ClickHouse](clickhouse.md).
- [PostgreSQL](postgresql.md).
- [S3 ({{objstorage-full-name}})](s3/external_table.md).


